<colorPopup>:
    BoxLayout:
        orientation: 'vertical'
        pos: (167,160)
        size:250,100

        ColorPicker:
            id: colorpicker
            size_hint: 1.0, 1.0
            on_color: root.color_picked(colorpicker)

<TextInputPopup>:
    TextInput:
        text: ''
        pos: (213, 258)
        size_hint: (1, 0.65)

    Button:
        text: 'Save'
        pos: (230, 218)
        size_hint: (0.2, 0.2)

    Button:
        text: 'Cancel'
        pos: (495, 218)
        size_hint: (0.2, 0.2)

<MyMain>:

    Background:
        canvas:
            Color:
                rgb: (255, 255, 255)
            Rectangle:
                pos: (0, 0)
                size: (800, 450)


    Test:
        background_color: (4, 4, 4, 1) #Color of tab
        size: (800, 150)
        pos: (0, 450)
        tab_height: 25
        tab_width: 50
        do_default_tab: False

        TabbedPanelItem:
            text: 'Home'
            StripLayout:
                background_color: (4, 4, 4, 1)

                BoxLayout:
                    orientation: 'vertical'
                    pos: (-130,470)
                    size:250,100

                    ColorPicker:
                        id: colorpicker
                        size_hint: 1.0, 1.0
                        on_color: root.color_picked(colorpicker)
                Label:
                    color: (0, 0, 0, 1)
                    text: 'Colors'
                    pos: (10, 410)
                    font_size: 12
                Button:
                    text: ''
                    size: (40, 40)
                    pos: (288, 510)
                    background_color: (colorpicker.color)
                    color:0,0,0,1
                    on_press: root.colorbtn()

                Label:
                    pos: (263, 445)
                    color: (0, 0, 0, 1)
                    text: 'CurrentColor'
                    font_size: 12
                Button:
                    id: brush_button
                    text: ''
                    size: (40, 40)
                    pos: (380, 510)
                    background_color: (1, 2, 2, 1)
                    Image:
                        id: brush_button_image
                        source: 'resources/pencil.png'
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
                Label:
                    color: (0, 0, 0, 1)
                    pos: (359, 445)
                    text: 'Brush'
                    font_size: 12.5
                Button:
                    text: ''
                    size: (25, 25)
                    pos: (460, 530)
                    on_press: root.pencil()
                    on_press: brush_button_image.source = 'resources/pencil.png'
                    Image:
                        source: 'resources/pencil.png'
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
                Button:
                    text: ''
                    size: (25, 25)
                    pos: (495, 530)
                    on_press: brush_button_image.source = 'resources/bucket.png'
                    Image:
                        source: 'resources/bucket.png'
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
                Button:
                    text: ''
                    size: (25, 25)
                    pos: (460, 495)
                    on_press:
                        brush_button_image.source = 'resources/font.png'
                        root.btn()
                    Image:
                        source: 'resources/font.png'
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
                Button:
                    text: ''
                    size: (25, 25)
                    pos: (495, 495)
                    on_press: brush_button_image.source = 'resources/dropper.png'
                    Image:
                        source: 'resources/dropper.png'
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
                Button:
                    text: ''
                    size: (25, 25)
                    pos: (530, 530)
                    on_press: root.eraser()
                    on_press: brush_button_image.source = 'resources/eraser.png'
                    Image:
                        source: 'resources/eraser.png'
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
                Button:
                    text: ''
                    size: (25, 25)
                    pos: (530, 495)
                    on_press: brush_button_image.source = 'resources/magnifyinglass.png'
                    Image:
                        source: 'resources/magnifyinglass.png'
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y

                Label: #Beginning Right Side Box Layout +150
                    color: (0, 0, 0, 1)
                    pos: (608, 433)
                    text: 'Shapes'
                    font_size: 12

                Button:
                    text: ''
                    size: (25, 25)
                    pos: (610, 530)
                    on_press: root.oval_draw()
                    on_press: brush_button_image.source = 'resources/C.png'
                    Image:
                        source: 'resources/C.png'
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
                Button:
                    text: ''
                    size: (25, 25)
                    pos: (645, 530)
                    on_press: root.rectangle_draw()
                    on_press: brush_button_image.source = 'resources/S.png'
                    Image:
                        source: 'resources/S.png'
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
                Button:
                    text: ''
                    size: (25, 25)
                    pos: (610, 495)
                    # on_press:
                        # brush_button_image.source = 'resources/L.png'
                        # root.btn()
                    # Image:
                        # source: 'resources/font.png'
                        # center_x: self.parent.center_x
                        # center_y: self.parent.center_y
                Button:
                    text: ''
                    size: (25, 25)
                    pos: (645, 495)
                    # on_press: brush_button_image.source = 'resources/dropper.png'
                    # Image:
                        # source: 'resources/dropper.png'
                        # center_x: self.parent.center_x
                        # center_y: self.parent.center_y
                Button:
                    text: ''
                    size: (25, 25)
                    pos: (680, 530)
                    # on_press: root.line_draw()
                    on_press: brush_button_image.source = 'resources/L.png'
                    Image:
                        source: 'resources/L.png'
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
                Button:
                    text: ''
                    size: (25, 25)
                    pos: (680, 495)
                    # on_press: brush_button_image.source = 'resources/magnifyinglass.png'
                    # Image:
                        # source: 'resources/magnifyinglass.png'
                        # center_x: self.parent.center_x
                        # center_y: self.parent.center_y

                Label:
                    color: (0, 0, 0, 1)
                    pos: (458, 433)
                    text: 'Tools'
                    font_size: 12

                Button:
                    text: ''
                    size: (23, 23)
                    pos: (120, 575)
                    on_press:
                        root.export_to_png('C:/Users/peter/Desktop/screenshot.png', scale = 1)
                        print('saved screenshot to C:/Users/peter/Desktop/screenshot.png')
                    Image:
                        source: 'resources/save.png'
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y

                Slider:
                    id: slideNum
                    min: 1
                    max: 100
                    value: 30
                    pos: (300, 425)
                    cursor_size: (20,20)
                    step: 1
                    orientation: 'horizontal'
                    on_touch_move: root.slider(slideNum)

                Label:
                    color: (0, 0, 0, 1)
                    pos: (330, 410)
                    text: str(slideNum.value)
                    font_size: 12

                Label:
                    color: (0, 0, 0, 1)
                    pos: (290, 410)
                    text: 'Pen Size'
                    font_size: 12


        TabbedPanelItem:
            text: 'Edit'
            Label:
                text: 'Edit tab content will be here'
